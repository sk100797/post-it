(this["webpackJsonppost-it"]=this["webpackJsonppost-it"]||[]).push([[0],{63:function(e,t,r){e.exports=r(86)},86:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(36),o=r.n(c),s=r(21),u=r(44),i=r(39),l=r(92),p=r(47),m=r(11),S=r(58),d=r(59),f=r(88),E=r(12),b=r(91),_={SET_CURRENT_USER:"SET_CURRENT_USER",CHECK_USER_SESSION:"CHECK_USER_SESSION",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE"},h=function(e){return{type:_.SIGN_IN_FAILURE,payload:e}},I=function(){var e=Object(s.d)((function(e){return e.user})).currentUser,t=Object(s.c)(),r=Object(i.b)(),n=r.colorMode,c=r.toggleColorMode;return a.a.createElement(S.a,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",position:"fixed",top:"0",width:"100%",padding:"4",overflow:"hidden",bg:{light:"white",dark:"gray.800"}[n],borderBottom:"1px",borderBottomColor:"gray.100"},a.a.createElement(S.a,{align:"center",mr:5},a.a.createElement(d.a,{name:"edit",mr:5,size:"24px",color:"green.400"}),a.a.createElement(f.a,{as:"h1",size:"lg"},"Post IT")),a.a.createElement(E.a,null,a.a.createElement(d.a,{name:{light:"moon",dark:"sun"}[n],onClick:c,size:"24px",cursor:"pointer",mr:"5"}),e?a.a.createElement(b.a,{leftIcon:"small-close",variantColor:"red",variant:"outline",size:"sm",onClick:function(){return t({type:_.SIGN_OUT_START})}},"Log Out"):null))},O=r(89),g=Object(s.b)(null,(function(e){return{googleSignInStart:function(){return e({type:_.GOOGLE_SIGN_IN_START})}}}))((function(e){var t=e.googleSignInStart;return a.a.createElement(E.a,{w:"80%"},a.a.createElement(O.a,{spacing:4},a.a.createElement(f.a,{as:"h2"},"Welcome to"),a.a.createElement(f.a,{as:"h3"},"Post IT"),a.a.createElement(b.a,{leftIcon:"arrow-forward",width:"250px",bg:"red.500",onClick:function(){return t()}},"Sign In with Google")))})),v=r(90),x=function(){var e=Object(s.d)((function(e){return e.user})).currentUser;return a.a.createElement("div",null,a.a.createElement(E.a,{maxW:"sm",borderWidth:"1px",rounded:"lg",overflow:"hidden"},a.a.createElement(v.a,{src:e.photoURL,alt:"User Image"}),a.a.createElement(E.a,{mt:"1",fontWeight:"semibold",as:"h1",lineHeight:"tight",isTruncated:!0},"Welcome ",e.displayName.split(" ")[0])))},U=Object(s.b)(null,(function(e){return{checkUserSession:function(){return e({type:_.CHECK_USER_SESSION})}}}))((function(e){var t=e.checkUserSession,r=Object(s.d)((function(e){return e.user})).currentUser;return Object(n.useEffect)((function(){t()}),[t]),a.a.createElement("div",null,a.a.createElement(I,null),a.a.createElement(S.a,{justify:"center",align:"center",w:"100%",h:"93vh"},a.a.createElement(m.d,null,a.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r?a.a.createElement(x,null):a.a.createElement(m.a,{to:"/sign-in"})}}),a.a.createElement(m.b,{exact:!0,path:"/sign-in",render:function(){return r?a.a.createElement(m.a,{to:"/"}):a.a.createElement(g,null)}}))))})),w=r(23),N=r(62),j=r(60),C=r(32),T={currentUser:null,error:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.SIGN_IN_SUCCESS:return Object(C.a)({},e,{currentUser:t.payload,error:null});case _.SIGN_OUT_SUCCESS:return Object(C.a)({},e,{currentUser:null,error:null});case _.SIGN_IN_FAILURE:case _.SIGN_OUT_FAILURE:return Object(C.a)({},e,{error:t.payload});default:return e}},R=Object(w.combineReducers)({user:G}),k=r(10),y=r.n(k),A=r(13),L=r(61),W=r(33),z=r.n(W);r(81),r(83);z.a.initializeApp({apiKey:"AIzaSyCtowyzKmi_8C2GcZMXJyDK6QI2CzOWgbc",authDomain:"post-it-c5f71.firebaseapp.com",databaseURL:"https://post-it-c5f71.firebaseio.com",projectId:"post-it-c5f71",storageBucket:"post-it-c5f71.appspot.com",messagingSenderId:"510028817446",appId:"1:510028817446:web:a59e6e4e09726d4835f2e7"});var F=z.a.auth(),K=z.a.firestore(),P=new z.a.auth.GoogleAuthProvider;P.setCustomParameters({prompt:"select_account"});var B=function(){var e=Object(L.a)(y.a.mark((function e(t){var r,n,a,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=K.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return n=t.displayName,a=t.email,c=t.photoURL,o=new Date,e.prev=9,e.next=12,r.set({displayName:n,email:a,photoURL:c,createdAt:o});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),H=y.a.mark(q),M=y.a.mark(V),D=y.a.mark(Y),J=y.a.mark(ee),Q=y.a.mark(te),X=y.a.mark(re),Z=y.a.mark(ne),$=y.a.mark(ae);function q(e){var t,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(A.b)(B,e);case 3:return t=n.sent,n.next=6,t.get();case 6:return r=n.sent,n.next=9,Object(A.c)((a=Object(C.a)({id:r.id},r.data()),{type:_.SIGN_IN_SUCCESS,payload:a}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(A.c)(h(n.t0.message));case 15:case"end":return n.stop()}var a}),H,null,[[0,11]])}function V(){var e,t;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,F.signInWithPopup(P);case 3:return e=r.sent,t=e.user,r.next=7,q(t);case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(A.c)(h(r.t0.message));case 13:case"end":return r.stop()}}),M,null,[[0,9]])}function Y(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.signOut();case 3:return e.next=5,Object(A.c)({type:_.SIGN_OUT_SUCCESS});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(A.c)((t=e.t0.message,{type:_.SIGN_OUT_FAILURE,payload:t}));case 11:case"end":return e.stop()}var t}),D,null,[[0,7]])}function ee(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){var r=F.onAuthStateChanged((function(t){r(),e(t)}),t)}));case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,q(e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(A.c)(h(t.t0.message));case 14:case"end":return t.stop()}}),J,null,[[0,10]])}function te(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.d)(_.GOOGLE_SIGN_IN_START,V);case 2:case"end":return e.stop()}}),Q)}function re(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.d)(_.SIGN_OUT_START,Y);case 2:case"end":return e.stop()}}),X)}function ne(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.d)(_.CHECK_USER_SESSION,ee);case 2:case"end":return e.stop()}}),Z)}function ae(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.b)(te),Object(A.b)(re),Object(A.b)(ne)]);case 2:case"end":return e.stop()}}),$)}var ce=y.a.mark(oe);function oe(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.b)(ae)]);case 2:case"end":return e.stop()}}),ce)}var se=Object(N.a)(),ue=Object(w.createStore)(R,Object(j.composeWithDevTools)(Object(w.applyMiddleware)(se)));se.run(oe);var ie=ue;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(s.a,{store:ie},a.a.createElement(u.a,null,a.a.createElement(i.a,null,a.a.createElement(l.a,null),a.a.createElement(p.a,null,a.a.createElement(a.a.StrictMode,null,a.a.createElement(U,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.f0b412fb.chunk.js.map